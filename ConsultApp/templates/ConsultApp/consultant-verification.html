{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Consultant Verification</title>
  <link rel="stylesheet" href="{% static 'ConsultApp/verification.css'%}">
</head>
<body>
  <nav class="top-nav">
    <div class="logo">ResearchMate</div>
    
    <div class="nav-links">
      <a href="{% url 'consultant_dashboard' %}">ğŸ  Dashboard</a>
      <a href="{% url 'consultant_profile' %}">ğŸ‘¤ My Profile</a>
      <a href="{% url 'consultant_students' %}">ğŸ§‘â€ğŸ“ Students</a>
      <a href="{% url 'consultant_appointments' %}">ğŸ“… Appointments</a>
      <a href="{% url 'consultant_history' %}">ğŸ“œ History</a>
    </div>

    <div class="user-section">
      <span class="consultant-label">Consultant</span>
      <form method="POST" action="{% url 'logout' %}" style="display: inline;">
        {% csrf_token %}
        <button type="submit" class="logout-btn">ğŸšª Logout</button>
      </form>
    </div>
  </nav>

  <main class="main-content">
    {% if messages %}
      <div class="alert">
        {% for message in messages %}
          <p>{{ message }}</p>
        {% endfor %}
      </div>
    {% endif %}

    <div class="page-header">
      <div class="badge">ğŸ“ Consultant Access</div>
      <h1>Consultant Verification</h1>
      <p>Fill in your details to be verified and available for bookings</p>
    </div>

    <div class="info-box">
      <h4>â„¹ï¸ Verification Process</h4>
      <p>Your application will be reviewed by our admin team within 2-3 business days. You'll receive an email notification once your verification is approved.</p>
    </div>

    <div class="form-card">
      <h2>ğŸ“‹ Verification Form</h2>
      
      <form id="verificationForm" method="POST" action="{% url 'consultant_verification' %}" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="form-section">
          <h3>ğŸ‘¤ Personal Information</h3>
          
          <div class="form-group">
            <label for="fullName">Full Name *</label>
            <input type="text" id="fullName" name="fullName" value="{{ user_full_name }}" 
              pattern="[A-Za-z\s\-]+" title="Only letters, spaces, and hyphens allowed" required>
            </div>

          <div class="form-group">
            <label for="contact">Contact Number (Philippine) *</label>
            <input type="tel" id="contact" name="contact" 
              value="{{ submitted_data.contact|default:'' }}" 
              placeholder="09XXXXXXXXX" required >
            <p class="file-hint">Format: 09XXXXXXXXX (11 digits)</p>
          </div>
        </div>

        <div class="form-section">
          <h3>ğŸ’¼ Professional Information</h3>
          
          <div class="form-group">
            <label>Expertise / Specialization * (Select all that apply)</label>
            <div class="expertise-grid" id="expertiseGrid">
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Research Methodology"
                {% if 'Research Methodology' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ“Š Research Methodology</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Data Analysis"
                {% if 'Data Analysis' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ“ˆ Data Analysis</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Statistical Analysis"
                {% if 'Statistical Analysis' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ“‰ Statistical Analysis</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Qualitative Research"
                {% if 'Qualitative Research' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ’¬ Qualitative Research</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Quantitative Research"
                {% if 'Quantitative Research' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ”¢ Quantitative Research</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Machine Learning"
                {% if 'Machine Learning' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ¤– Machine Learning</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Artificial Intelligence"
                {% if 'Artificial Intelligence' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ§  Artificial Intelligence</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Web Development"
                {% if 'Web Development' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸŒ Web Development</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Mobile Development"
                {% if 'Mobile Development' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ“± Mobile Development</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Database Design"
                {% if 'Database Design' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ—„ï¸ Database Design</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Cybersecurity"
                {% if 'Cybersecurity' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ”’ Cybersecurity</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Network Administration"
                {% if 'Network Administration' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸŒ Network Administration</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="UI/UX Design"
                {% if 'UI/UX Design' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ¨ UI/UX Design</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="System Analysis"
                {% if 'System Analysis' in submitted_data.expertise_list %}checked{% endif %}>
                <span>âš™ï¸ System Analysis</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Software Engineering"
                {% if 'Software Engineering' in submitted_data.expertise_list %}checked{% endif %}>
                <span>ğŸ’» Software Engineering</span>
              </label>
              <label class="expertise-option">
                <input type="checkbox" name="expertise" value="Thesis Writing"
                {% if 'Thesis Writing' in submitted_data.expertise_list %}checked{% endif %}>
                <span>âœï¸ Thesis Writing</span>
              </label>
            </div>
            <p class="error-message" id="expertiseError" style="display: none;">Please select at least one expertise</p>
          </div>

          <div class="form-group">
            <label for="workplace">Workplace *</label>
            <input type="text" id="workplace" name="workplace" 
              value="{{ submitted_data.workplace|default:'' }}" required >
          </div>

          <div class="form-group">
            <label for="qualification">Qualification *</label>
            <input type="text" id="qualification" name="qualification" 
              value="{{ submitted_data.qualification|default:'' }}" required >
              <p class="file-hint">College degree or educational background</p>
          </div>

          <div class="form-group">
            <label for="bio">Short Bio</label>
            <textarea id="bio" name="bio" placeholder="Introduce yourself...">{{ submitted_data.bio|default:'' }}</textarea>
            <p class="file-hint">Tell us about your background and what makes you a great consultant (max 500 characters)</p>
          </div>
        </div>

        <div class="form-section">
          <h3>ğŸ“„ Required Document</h3>
          <p style="color: #666; margin-bottom: 15px;">Upload one of the following documents for verification:</p>
          
          <div class="form-group">
            <label for="validId">Upload Valid ID</label>
            <input type="file" id="validId" name="validId" accept="image/jpeg,image/jpg,image/png,.pdf" required>
            <p class="file-hint">Government-issued ID (Driver's License, Passport, etc.) - JPG, PNG, or PDF </p>
          </div>

          <div class="form-group">
            <label for="license">Upload Professional License</label>
            <input type="file" id="license" name="license" accept="image/jpeg,image/jpg,image/png,.pdf" required>
            <p class="file-hint">Professional license or certification - JPG, PNG, or PDF</p>
          </div>

          <div class="form-group">
            <label for="profilePhoto">Upload Profile Photo with ID</label>
            <input type="file" id="profilePhoto" name="profilePhoto" accept="image/jpeg,image/jpg,image/png" required>
            <p class="file-hint">Professional photo holding your ID (JPG or PNG, max 5MB)</p>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" id="submitVerification" class="btn-submit">
            Submit Verification Request
          </button>
          <button type="button" class="btn-cancel" onclick="window.location.href='{% url 'consultant_dashboard' %}'">
            Cancel
          </button>
        </div>
      </form>
    </div>
  </main>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const options = document.querySelectorAll('.expertise-option');

      options.forEach(option => {
        const checkbox = option.querySelector('input[type="checkbox"]');

        if (checkbox.checked) {
          option.classList.add('selected');
        }

        checkbox.addEventListener('change', function() {
          if (checkbox.checked) {
            option.classList.add('selected');
          } else {
            option.classList.remove('selected');
          }
        });
      });

      const contactInput = document.getElementById('contact');
      if (contactInput) {
        contactInput.addEventListener('input', function(e) {
          this.value = this.value.replace(/[^0-9]/g, '');
        });
      }
    });
  </script>
</body>
</html>